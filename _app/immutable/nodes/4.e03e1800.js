import{s as k,n as y,o as M}from"../chunks/scheduler.50aa2f44.js";import{S as D,i as E,g as m,h as g,A,k as x,a as v,f as h,s as _,r as S,E as T,c as $,j as C,u as I,C as b,v as j,d as G,t as L,w as W}from"../chunks/index.f11b7a36.js";import{C as w,b as F}from"../chunks/Chart.407174b1.js";function H(f){let t,n='<div class="column is-6"><canvas id="github-views" height="300px"></canvas></div> <div class="column is-6"><canvas id="github-clones" height="300px"></canvas></div>';return{c(){t=m("div"),t.innerHTML=n,this.h()},l(a){t=g(a,"DIV",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-1jj9zzm"&&(t.innerHTML=n),this.h()},h(){x(t,"class","columns")},m(a,c){v(a,t,c)},p:y,i:y,o:y,d(a){a&&h(t)}}}function V(f){let t,n,a=["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#fee0b6","#fdb863","#e08214","#b35806"],c={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};return M(async()=>{const p=document.getElementById("github-views").getContext("2d");t=new w(p,{type:"line",data:{datasets:[]},options:{responsive:!0,legend:{display:!1},maintainAspectRatio:!1,scales:{xAxes:[{id:"axisThisWeek",type:"time"}],yAxes:[{id:"temp-y-axis",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Number of views"}}]},tooltips:{mode:"nearest",intersect:!1,callbacks:{title(e,l){let{index:s}=e[0],{datasetIndex:u}=e[0],r=l.datasets[u].data[s].x;return`${c[r.getDay()]} ${("0"+r.getDate()).slice(-2)} / ${("0"+(r.getMonth()+1)).slice(-2)} / ${r.getFullYear()}`}}}}});const d=document.getElementById("github-clones").getContext("2d");n=new w(d,{type:"line",data:{datasets:[]},options:{responsive:!0,legend:{display:!1},maintainAspectRatio:!1,scales:{xAxes:[{id:"axisThisWeek",type:"time"}],yAxes:[{id:"temp-y-axis",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Number of clones"}}]},tooltips:{mode:"nearest",intersect:!1,callbacks:{title(e,l){let{index:s}=e[0],{datasetIndex:u}=e[0],r=l.datasets[u].data[s].x;return`${c[r.getDay()]} ${("0"+r.getDate()).slice(-2)} / ${("0"+(r.getMonth()+1)).slice(-2)} / ${r.getFullYear()}`}}}}});const o=await F();let i={};o.forEach((e,l)=>{e.repository in i||(i[e.repository]={data:[],repository:e.repository}),i[e.repository].data.push({day:e.dd,clones:e.clones,views:e.views})}),Object.keys(i).forEach((e,l)=>{t.data.datasets.push({label:e,backgroundColor:a[l],borderColor:a[l],fill:!1,data:i[e].data.filter(s=>s.views>0).map(s=>({x:s.day,y:s.views}))}),n.data.datasets.push({label:e,backgroundColor:a[l],borderColor:a[l],fill:!1,data:i[e].data.filter(s=>s.clones>0).map(s=>({x:s.day,y:s.clones}))})}),t.update(),n.update()}),[]}class q extends D{constructor(t){super(),E(this,t,V,H,k,{})}}function z(f){let t,n,a,c="Github data analytics",p,d,o,i;return o=new q({}),{c(){t=_(),n=m("div"),a=m("h1"),a.textContent=c,p=_(),d=m("div"),S(o.$$.fragment),this.h()},l(e){T("svelte-1yd7b73",document.head).forEach(h),t=$(e),n=g(e,"DIV",{class:!0});var s=C(n);a=g(s,"H1",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-1oq14bu"&&(a.textContent=c),p=$(s),d=g(s,"DIV",{class:!0});var u=C(d);I(o.$$.fragment,u),u.forEach(h),s.forEach(h),this.h()},h(){document.title="Github",x(a,"class","mb-4 text-4xl font-extrabold leading-none tracking-tight text-center text-gray-900 md:text-5xl lg:text-6xl dark:text-white"),x(d,"class","px-8 "),x(n,"class","dark:bg-gray-900 dark:text-gray-300")},m(e,l){v(e,t,l),v(e,n,l),b(n,a),b(n,p),b(n,d),j(o,d,null),i=!0},p:y,i(e){i||(G(o.$$.fragment,e),i=!0)},o(e){L(o.$$.fragment,e),i=!1},d(e){e&&(h(t),h(n)),W(o)}}}class Y extends D{constructor(t){super(),E(this,t,null,z,k,{})}}export{Y as component};
