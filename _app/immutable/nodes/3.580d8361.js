import{s as k,n as y,o as A}from"../chunks/scheduler.e2f6cd0d.js";import{S as D,i as E,g,h as m,A as S,k as b,a as v,f as p,s as _,r as M,E as T,c as $,j as C,u as j,C as x,v as I,d as G,t as L,w as W}from"../chunks/index.485d35a9.js";import{C as w,b as z}from"../chunks/Chart.5a5b95fb.js";const F=!0,R=Object.freeze(Object.defineProperty({__proto__:null,prerender:F},Symbol.toStringTag,{value:"Module"}));function H(f){let t,n='<div class="column is-6"><canvas id="github-views" height="300px"></canvas></div> <div class="column is-6"><canvas id="github-clones" height="300px"></canvas></div>';return{c(){t=g("div"),t.innerHTML=n,this.h()},l(a){t=m(a,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-1jj9zzm"&&(t.innerHTML=n),this.h()},h(){b(t,"class","columns")},m(a,c){v(a,t,c)},p:y,i:y,o:y,d(a){a&&p(t)}}}function O(f){let t,n,a=["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#fee0b6","#fdb863","#e08214","#b35806"],c={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};return A(async()=>{const h=document.getElementById("github-views").getContext("2d");t=new w(h,{type:"line",data:{datasets:[]},options:{responsive:!0,legend:{display:!1},maintainAspectRatio:!1,scales:{xAxes:[{id:"axisThisWeek",type:"time"}],yAxes:[{id:"temp-y-axis",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Number of views"}}]},tooltips:{mode:"nearest",intersect:!1,callbacks:{title(e,l){let{index:s}=e[0],{datasetIndex:u}=e[0],o=l.datasets[u].data[s].x;return`${c[o.getDay()]} ${("0"+o.getDate()).slice(-2)} / ${("0"+(o.getMonth()+1)).slice(-2)} / ${o.getFullYear()}`}}}}});const d=document.getElementById("github-clones").getContext("2d");n=new w(d,{type:"line",data:{datasets:[]},options:{responsive:!0,legend:{display:!1},maintainAspectRatio:!1,scales:{xAxes:[{id:"axisThisWeek",type:"time"}],yAxes:[{id:"temp-y-axis",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Number of clones"}}]},tooltips:{mode:"nearest",intersect:!1,callbacks:{title(e,l){let{index:s}=e[0],{datasetIndex:u}=e[0],o=l.datasets[u].data[s].x;return`${c[o.getDay()]} ${("0"+o.getDate()).slice(-2)} / ${("0"+(o.getMonth()+1)).slice(-2)} / ${o.getFullYear()}`}}}}});const r=await z();let i={};r.forEach((e,l)=>{e.repository in i||(i[e.repository]={data:[],repository:e.repository}),i[e.repository].data.push({day:e.dd,clones:e.clones,views:e.views})}),Object.keys(i).forEach((e,l)=>{t.data.datasets.push({label:e,backgroundColor:a[l],borderColor:a[l],fill:!1,data:i[e].data.filter(s=>s.views>0).map(s=>({x:s.day,y:s.views}))}),n.data.datasets.push({label:e,backgroundColor:a[l],borderColor:a[l],fill:!1,data:i[e].data.filter(s=>s.clones>0).map(s=>({x:s.day,y:s.clones}))})}),t.update(),n.update()}),[]}class V extends D{constructor(t){super(),E(this,t,O,H,k,{})}}function q(f){let t,n,a,c="Github data analytics",h,d,r,i;return r=new V({}),{c(){t=_(),n=g("div"),a=g("h1"),a.textContent=c,h=_(),d=g("div"),M(r.$$.fragment),this.h()},l(e){T("svelte-1yd7b73",document.head).forEach(p),t=$(e),n=m(e,"DIV",{class:!0});var s=C(n);a=m(s,"H1",{class:!0,"data-svelte-h":!0}),S(a)!=="svelte-1oq14bu"&&(a.textContent=c),h=$(s),d=m(s,"DIV",{class:!0});var u=C(d);j(r.$$.fragment,u),u.forEach(p),s.forEach(p),this.h()},h(){document.title="Github",b(a,"class","mb-4 text-4xl font-extrabold leading-none tracking-tight text-center text-gray-900 md:text-5xl lg:text-6xl dark:text-white"),b(d,"class","px-8 "),b(n,"class","dark:bg-gray-900 dark:text-gray-300")},m(e,l){v(e,t,l),v(e,n,l),x(n,a),x(n,h),x(n,d),I(r,d,null),i=!0},p:y,i(e){i||(G(r.$$.fragment,e),i=!0)},o(e){L(r.$$.fragment,e),i=!1},d(e){e&&(p(t),p(n)),W(r)}}}class Y extends D{constructor(t){super(),E(this,t,null,q,k,{})}}export{Y as component,R as universal};
