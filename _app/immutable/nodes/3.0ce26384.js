import{s as C,n as m,o as D}from"../chunks/scheduler.e2f6cd0d.js";import{S as w,i as k,g as y,h as b,x as S,k as g,a as f,f as u,s as v,r as E,E as M,c as _,j as T,u as j,v as A,d as G,t as I,w as L}from"../chunks/index.708e6756.js";import{C as $,b as W}from"../chunks/Chart.5a5b95fb.js";const z=!0,R=Object.freeze(Object.defineProperty({__proto__:null,prerender:z},Symbol.toStringTag,{value:"Module"}));function F(h){let a,s='<div class="column is-6"><canvas id="github-views" height="300px"></canvas></div> <div class="column is-6"><canvas id="github-clones" height="300px"></canvas></div>';return{c(){a=y("div"),a.innerHTML=s,this.h()},l(n){a=b(n,"DIV",{class:!0,"data-svelte-h":!0}),S(a)!=="svelte-1jj9zzm"&&(a.innerHTML=s),this.h()},h(){g(a,"class","columns")},m(n,o){f(n,a,o)},p:m,i:m,o:m,d(n){n&&u(a)}}}function H(h){let a,s,n=["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#fee0b6","#fdb863","#e08214","#b35806"],o={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};return D(async()=>{const r=document.getElementById("github-views").getContext("2d");a=new $(r,{type:"line",data:{datasets:[]},options:{responsive:!0,legend:{display:!1},maintainAspectRatio:!1,scales:{xAxes:[{id:"axisThisWeek",type:"time"}],yAxes:[{id:"temp-y-axis",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Number of views"}}]},tooltips:{mode:"nearest",intersect:!1,callbacks:{title(e,i){let{index:l}=e[0],{datasetIndex:x}=e[0],c=i.datasets[x].data[l].x;return`${o[c.getDay()]} ${("0"+c.getDate()).slice(-2)} / ${("0"+(c.getMonth()+1)).slice(-2)} / ${c.getFullYear()}`}}}}});const d=document.getElementById("github-clones").getContext("2d");s=new $(d,{type:"line",data:{datasets:[]},options:{responsive:!0,legend:{display:!1},maintainAspectRatio:!1,scales:{xAxes:[{id:"axisThisWeek",type:"time"}],yAxes:[{id:"temp-y-axis",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Number of clones"}}]},tooltips:{mode:"nearest",intersect:!1,callbacks:{title(e,i){let{index:l}=e[0],{datasetIndex:x}=e[0],c=i.datasets[x].data[l].x;return`${o[c.getDay()]} ${("0"+c.getDate()).slice(-2)} / ${("0"+(c.getMonth()+1)).slice(-2)} / ${c.getFullYear()}`}}}}});const p=await W();let t={};p.forEach((e,i)=>{e.repository in t||(t[e.repository]={data:[],repository:e.repository}),t[e.repository].data.push({day:e.dd,clones:e.clones,views:e.views})}),Object.keys(t).forEach((e,i)=>{a.data.datasets.push({label:e,backgroundColor:n[i],borderColor:n[i],fill:!1,data:t[e].data.filter(l=>l.views>0).map(l=>({x:l.day,y:l.views}))}),s.data.datasets.push({label:e,backgroundColor:n[i],borderColor:n[i],fill:!1,data:t[e].data.filter(l=>l.clones>0).map(l=>({x:l.day,y:l.clones}))})}),a.update(),s.update()}),[]}class O extends w{constructor(a){super(),k(this,a,H,F,C,{})}}function q(h){let a,s,n="Github data analytics",o,r,d,p;return d=new O({}),{c(){a=v(),s=y("h1"),s.textContent=n,o=v(),r=y("div"),E(d.$$.fragment),this.h()},l(t){M("svelte-1ohs0xn",document.head).forEach(u),a=_(t),s=b(t,"H1",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-1oq14bu"&&(s.textContent=n),o=_(t),r=b(t,"DIV",{class:!0});var i=T(r);j(d.$$.fragment,i),i.forEach(u),this.h()},h(){document.title="Github",g(s,"class","mb-4 text-4xl font-extrabold leading-none tracking-tight text-center text-gray-900 md:text-5xl lg:text-6xl dark:text-white"),g(r,"class","px-8")},m(t,e){f(t,a,e),f(t,s,e),f(t,o,e),f(t,r,e),A(d,r,null),p=!0},p:m,i(t){p||(G(d.$$.fragment,t),p=!0)},o(t){I(d.$$.fragment,t),p=!1},d(t){t&&(u(a),u(s),u(o),u(r)),L(d)}}}class V extends w{constructor(a){super(),k(this,a,null,q,C,{})}}export{V as component,R as universal};
