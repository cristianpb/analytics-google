import{S as e,i as a,s as t,e as s,t as i,p as l,c as o,a as n,q as d,d as r,u as c,b as h,f as u,v as p,n as y,o as b,B as f,H as m,C as g,D as x,E as v,F as $,G as E}from"./client.b26de1b7.js";import{C as w,b as C}from"./Chart.6c8b7727.js";function A(e){let a,t,b,f,m,g,x,v,$;return{c(){a=s("p"),t=i("Github"),b=l(),f=s("div"),m=s("div"),g=s("canvas"),x=l(),v=s("div"),$=s("canvas"),this.h()},l(e){a=o(e,"P",{class:!0});var s=n(a);t=d(s,"Github"),s.forEach(r),b=c(e),f=o(e,"DIV",{class:!0});var i=n(f);m=o(i,"DIV",{class:!0});var l=n(m);g=o(l,"CANVAS",{id:!0,height:!0}),n(g).forEach(r),l.forEach(r),x=c(i),v=o(i,"DIV",{class:!0});var h=n(v);$=o(h,"CANVAS",{id:!0,height:!0}),n($).forEach(r),h.forEach(r),i.forEach(r),this.h()},h(){h(a,"class","is-size-3 has-text-centered"),h(g,"id","github-views"),h(g,"height","300px"),h(m,"class","column is-6"),h($,"id","github-clones"),h($,"height","300px"),h(v,"class","column is-6"),h(f,"class","columns")},m(e,s){u(e,a,s),p(a,t),u(e,b,s),u(e,f,s),p(f,m),p(m,g),p(f,x),p(f,v),p(v,$)},p:y,i:y,o:y,d(e){e&&r(a),e&&r(b),e&&r(f)}}}function D(e){let a,t,s=["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#fee0b6","#fdb863","#e08214","#b35806"],i={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};return b(async()=>{const e=document.getElementById("github-views").getContext("2d");a=new w(e,{type:"line",data:{datasets:[]},options:{responsive:!0,legend:{display:!1},maintainAspectRatio:!1,scales:{xAxes:[{id:"axisThisWeek",type:"time"}],yAxes:[{id:"temp-y-axis",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Number of views"}}]},tooltips:{mode:"nearest",intersect:!1,callbacks:{title(e,a){let{index:t}=e[0],{datasetIndex:s}=e[0],l=a.datasets[s].data[t].x;return`${i[l.getDay()]} ${("0"+l.getDate()).slice(-2)} / ${("0"+(l.getMonth()+1)).slice(-2)} / ${l.getFullYear()}`}}}}});const l=document.getElementById("github-clones").getContext("2d");t=new w(l,{type:"line",data:{datasets:[]},options:{responsive:!0,legend:{display:!1},maintainAspectRatio:!1,scales:{xAxes:[{id:"axisThisWeek",type:"time"}],yAxes:[{id:"temp-y-axis",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Number of clones"}}]},tooltips:{mode:"nearest",intersect:!1,callbacks:{title(e,a){let{index:t}=e[0],{datasetIndex:s}=e[0],l=a.datasets[s].data[t].x;return`${i[l.getDay()]} ${("0"+l.getDate()).slice(-2)} / ${("0"+(l.getMonth()+1)).slice(-2)} / ${l.getFullYear()}`}}}}});const o=await C();let n={};o.forEach((e,a)=>{e.repository in n||(n[e.repository]={data:[],repository:e.repository}),n[e.repository].data.push({day:e.dd,clones:e.clones,views:e.views})}),Object.keys(n).forEach((e,i)=>{a.data.datasets.push({label:e,backgroundColor:s[i],borderColor:s[i],fill:!1,data:n[e].data.filter(e=>e.views>0).map(e=>({x:e.day,y:e.views}))}),t.data.datasets.push({label:e,backgroundColor:s[i],borderColor:s[i],fill:!1,data:n[e].data.filter(e=>e.clones>0).map(e=>({x:e.day,y:e.clones}))})}),a.update(),t.update()}),[]}class I extends e{constructor(e){super(),a(this,e,D,A,t,{})}}function k(e){let a,t,b,w,C,A,D;return A=new I({}),{c(){a=l(),t=s("h1"),b=i("Github analytics"),w=l(),C=s("div"),f(A.$$.fragment),this.h()},l(e){m("svelte-1ohs0xn",document.head).forEach(r),a=c(e),t=o(e,"H1",{});var s=n(t);b=d(s,"Github analytics"),s.forEach(r),w=c(e),C=o(e,"DIV",{class:!0});var i=n(C);g(A.$$.fragment,i),i.forEach(r),this.h()},h(){document.title="Github",h(C,"class","column is-12")},m(e,s){u(e,a,s),u(e,t,s),p(t,b),u(e,w,s),u(e,C,s),x(A,C,null),D=!0},p:y,i(e){D||(v(A.$$.fragment,e),D=!0)},o(e){$(A.$$.fragment,e),D=!1},d(e){e&&r(a),e&&r(t),e&&r(w),e&&r(C),E(A)}}}class S extends e{constructor(e){super(),a(this,e,null,k,t,{})}}export{S as default};
