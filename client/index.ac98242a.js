import{S as t,i as e,s,e as a,c as r,a as n,d as c,b as i,f as o,l,n as d,g as h,r as u,h as f,j as g,k as p,o as b,m,t as v,p as y,q as $,u as E,v as x,w as k,x as O,y as C,z as D,A,B as j,C as w,D as P,E as I,F as T,G as V,H as S}from"./client.6a2ebe2a.js";import{C as B,f as N,l as L,a as z}from"./Chart.f921ee63.js";function H(t){let e,s;return{c(){e=a("canvas"),this.h()},l(t){e=r(t,"CANVAS",{id:!0}),n(e).forEach(c),this.h()},h(){i(e,"id","visits-chart")},m(a,r,n){o(a,e,r),n&&s(),s=l(e,"click",t[0])},p:d,i:d,o:d,d(t){t&&c(e),s()}}}function R(t,e){return e.day in t?t[e.day].y+=e.sessions:t[e.day]={x:e.dd,y:e.sessions},t}function M(t,e,s){let a,r,n,c,i,o,l;h(t,u,t=>s(4,a=t)),h(t,f,t=>s(5,r=t)),h(t,g,t=>s(6,n=t)),h(t,p,t=>s(7,c=t));let d={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};b(async()=>{const t=document.getElementById("visits-chart").getContext("2d");o=new B(t,{type:"line",data:{datasets:[{label:"This week",backgroundColor:"#2171b5",borderColor:"#2171b5",fill:!1,data:[]},{label:"Last week",backgroundColor:"#c6dbef",borderColor:"#c6dbef",fill:!1,borderDash:[10,5],xAxisID:"axisLastWeek",data:[]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{id:"axisThisWeek",type:"time",ticks:{min:0,max:1586e9}},{id:"axisLastWeek",type:"time",display:!1,gridLines:{drawOnChartArea:!1}}],yAxes:[{id:"temp-y-axis",type:"linear",position:"left",scaleLabel:{display:!0,labelString:"Number of sessions"}}]},tooltips:{mode:"nearest",intersect:!1,callbacks:{title(t,e){let{index:s}=t[0],{datasetIndex:a}=t[0],r=e.datasets[a].data[s].x;return`${d[r.getDay()]} ${("0"+r.getDate()).slice(-2)} / ${("0"+(r.getMonth()+1)).slice(-2)} / ${r.getFullYear()}`}}}}})});u.subscribe(t=>{t.length>0&&o&&(i=t.reduce(R,{}),v(Object.values(i),0),1===Object.values(i).length?(o.options.scales.xAxes[0].ticks.min=+Object.values(i)[0].x-3e8,o.options.scales.xAxes[0].ticks.max=+Object.values(i)[0].x+3e8):(o.options.scales.xAxes[0].ticks.min=+Object.values(i)[0].x,o.options.scales.xAxes[0].ticks.max=+Object.values(i)[Object.keys(i).length-1].x),o.update())}),g.subscribe(t=>{t&&t.length>0&&o&&(l=t.reduce(R,{}),v(Object.values(l),1),1===Object.values(l).length?(o.options.scales.xAxes[1].ticks.min=+Object.values(l)[0].x-3e8,o.options.scales.xAxes[1].ticks.max=+Object.values(l)[0].x+3e8):(o.options.scales.xAxes[1].ticks.min=+Object.values(l)[0].x,o.options.scales.xAxes[1].ticks.max=+Object.values(l)[Object.keys(l).length-1].x),o.update())});function v(t,e){o.data.datasets[e].data=t.map(t=>({x:t.x,y:t.y})),o.update()}return[function(t){const e=o.getElementsAtEvent(t);if(e[0]){const t=e[0]._index,s=Object.keys(l)[t];m(u,a=r.filter(t=>t.day===s)),m(g,n=c.filter(t=>t.day===s))}}]}class F extends t{constructor(t){super(),e(this,t,M,H,s,{})}}function _(t){let e,s;return{c(){e=a("canvas"),this.h()},l(t){e=r(t,"CANVAS",{id:!0}),n(e).forEach(c),this.h()},h(){i(e,"id","countries-chart")},m(a,r,n){o(a,e,r),n&&s(),s=l(e,"click",t[0])},p:d,i:d,o:d,d(t){t&&c(e),s()}}}function W(t,e,s){let a,r,n,c,i,o;h(t,u,t=>s(3,a=t)),h(t,f,t=>s(4,r=t)),h(t,g,t=>s(5,n=t)),h(t,p,t=>s(6,c=t)),b(async()=>{const t=document.getElementById("countries-chart").getContext("2d");o=new B(t,{type:"bar",data:{labels:[],datasets:[{backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[]}]},options:{legend:{display:!1},tooltips:{mode:"nearest",intersect:!1},responsive:!0,maintainAspectRatio:!1}})});u.subscribe(t=>{if(t.length>0&&o){let e=t.reduce((t,e)=>(e.country in t?t[e.country]+=e.sessions:t[e.country]=e.sessions,t),{});i=Object.keys(e).map((t,s)=>({data:e[t],label:t})).sort((function(t,e){return e.data-t.data})).reduce((t,e,s)=>(s>10?"Others"in t?t.Others+=e.data:t.Others=e.data:t[e.label]=e.data,t),{}),function(t,e){o.data.labels=t,o.data.datasets[0].data=e,o.update()}(Object.keys(i),Object.values(i))}});return[function(t){const e=o.getElementsAtEvent(t);if(e[0]){const t=e[0]._index,s=Object.keys(i)[t];m(u,a=r.filter(t=>t.country===s)),m(g,n=c.filter(t=>t.country===s))}}]}class G extends t{constructor(t){super(),e(this,t,W,_,s,{})}}function U(t){let e,s,h,u,f;return{c(){e=a("p"),s=v("Visits per pages:"),h=y(),u=a("canvas"),this.h()},l(t){e=r(t,"P",{});var a=n(e);s=$(a,"Visits per pages:"),a.forEach(c),h=E(t),u=r(t,"CANVAS",{id:!0,height:!0}),n(u).forEach(c),this.h()},h(){i(u,"id","pages-chart"),i(u,"height","400px")},m(a,r,n){o(a,e,r),x(e,s),o(a,h,r),o(a,u,r),n&&f(),f=l(u,"click",t[0])},p:d,i:d,o:d,d(t){t&&c(e),t&&c(h),t&&c(u),f()}}}function Y(t,e,s){let a,r,n,c,i,o;h(t,u,t=>s(3,a=t)),h(t,f,t=>s(4,r=t)),h(t,g,t=>s(5,n=t)),h(t,p,t=>s(6,c=t)),b(async()=>{const t=document.getElementById("pages-chart").getContext("2d");o=new B(t,{type:"horizontalBar",data:{labels:[],datasets:[{label:"",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[]}]},options:{legend:{display:!1},tooltips:{mode:"nearest",intersect:!1}}})});u.subscribe(t=>{if(t.length>0&&o){let e=t.reduce((t,e)=>(e.pagePath in t?t[e.pagePath]+=e.sessions:t[e.pagePath]=e.sessions,t),{});i=Object.keys(e).map((t,s)=>({label:t,data:e[t]})).sort((function(t,e){return e.data-t.data})).reduce((t,e,s)=>(s>10?"Others"in t?t.Others+=e.data:t.Others=e.data:t[e.label]=e.data,t),{}),function(t,e){o.data.labels=t,o.data.datasets[0].data=e,o.update()}(Object.keys(i),Object.values(i))}});return[function(t){const e=o.getElementsAtEvent(t);if(e[0]){const t=e[0]._index,s=Object.keys(i)[t];m(u,a=r.filter(t=>t.pagePath===s)),m(g,n=c.filter(t=>t.pagePath===s))}}]}class q extends t{constructor(t){super(),e(this,t,Y,U,s,{})}}function J(t){let e;return{c(){e=a("div"),this.h()},l(t){e=r(t,"DIV",{id:!0,style:!0}),n(e).forEach(c),this.h()},h(){i(e,"id","map"),k(e,"width","100%"),k(e,"height","400px")},m(s,a){o(s,e,a),t[5](e)},p:d,i:d,o:d,d(s){s&&c(e),t[5](null)}}}function Z(t){return{fillColor:(e=t.properties.density,e>1e3?"#800026":e>120?"#723122":e>100?"#8B4225":e>75?"#A25626":e>40?"#B86B25":e>20?"#CA8323":e>10?"#DA9C20":e>5?"#E6B71E":e>=1?"#EED322":"white"),weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7};var e}function K(t,e,s){let a,r,n,c,i=[20,15.8];return b(async()=>{const t=await import("./leaflet-src.527a9430.js");r=t.default,a=r.map(n,{svgSprite:!1,preferCanvas:!1,zoomControl:!1,center:i,zoom:1}),a.doubleClickZoom.disable(),r.control.zoom({position:"topright"}).addTo(a);const e=await fetch("/analytics-google/countries.geo.json"),s=await e.json();u.subscribe(t=>{t.length>0&&(s.features.forEach(e=>{let s=t.filter(t=>t.countryIsoCode===e.id).reduce((t,e)=>t+e.sessions,0);e.properties.density=s}),a.eachLayer(t=>a.removeLayer(t)),c=r.geoJson(s,{style:Z,onEachFeature:(t,e)=>e.bindPopup(`${t.properties.name}: ${t.properties.density}`)}),c.addTo(a))})}),[n,a,r,c,i,function(t){O[t?"unshift":"push"](()=>{s(0,n=t)})}]}class Q extends t{constructor(t){super(),e(this,t,K,J,s,{})}}function X(t){let e,s,h,u,f;return{c(){e=a("p"),s=v("Devices :"),h=y(),u=a("canvas"),this.h()},l(t){e=r(t,"P",{});var a=n(e);s=$(a,"Devices :"),a.forEach(c),h=E(t),u=r(t,"CANVAS",{id:!0,height:!0}),n(u).forEach(c),this.h()},h(){i(u,"id","devices-chart"),i(u,"height","400px")},m(a,r,n){o(a,e,r),x(e,s),o(a,h,r),o(a,u,r),n&&f(),f=l(u,"click",t[0])},p:d,i:d,o:d,d(t){t&&c(e),t&&c(h),t&&c(u),f()}}}function tt(t,e,s){let a,r,n,c,i,o;h(t,u,t=>s(3,a=t)),h(t,f,t=>s(4,r=t)),h(t,g,t=>s(5,n=t)),h(t,p,t=>s(6,c=t));let l=["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"];b(async()=>{const t=document.getElementById("devices-chart").getContext("2d");o=new B(t,{type:"doughnut",data:{labels:[],datasets:[{label:"My First dataset",backgroundColor:"",borderColor:"",data:[]}]},options:{}})});u.subscribe(t=>{t.length>0&&o&&(i=t.reduce((t,e)=>(e.device in t?t[e.device]+=e.sessions:t[e.device]=e.sessions,t),{}),function(t,e){o.data.labels=t,o.data.datasets[0].data=e,o.data.datasets[0].backgroundColor=l.slice(0,t.length),o.data.datasets[0].borderColor=l.slice(0,t.length),o.update()}(Object.keys(i),Object.values(i)))});return[function(t){const e=o.getElementsAtEvent(t);if(e[0]){const t=e[0]._index,s=Object.keys(i)[t];m(u,a=r.filter(t=>t.device===s)),m(g,n=c.filter(t=>t.device===s))}}]}class et extends t{constructor(t){super(),e(this,t,tt,X,s,{})}}function st(t){let e,s,h,u,f;return{c(){e=a("p"),s=v("Provenance :"),h=y(),u=a("canvas"),this.h()},l(t){e=r(t,"P",{});var a=n(e);s=$(a,"Provenance :"),a.forEach(c),h=E(t),u=r(t,"CANVAS",{id:!0,height:!0}),n(u).forEach(c),this.h()},h(){i(u,"id","provenances-chart"),i(u,"height","400px")},m(a,r,n){o(a,e,r),x(e,s),o(a,h,r),o(a,u,r),n&&f(),f=l(u,"click",t[0])},p:d,i:d,o:d,d(t){t&&c(e),t&&c(h),t&&c(u),f()}}}function at(t,e,s){let a,r,n,c,i,o;h(t,u,t=>s(3,a=t)),h(t,f,t=>s(4,r=t)),h(t,g,t=>s(5,n=t)),h(t,p,t=>s(6,c=t));let l=["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#fee0b6","#fdb863","#e08214","#b35806"];b(async()=>{const t=document.getElementById("provenances-chart").getContext("2d");o=new B(t,{type:"horizontalBar",data:{labels:[],datasets:[{backgroundColor:"",borderColor:"",data:[]}]},options:{legend:{display:!1},tooltips:{mode:"nearest",intersect:!1}}})});u.subscribe(t=>{t.length>0&&o&&(i=t.reduce((t,e)=>(e.source in t?t[e.source]+=e.sessions:t[e.source]=e.sessions,t),{}),function(t,e){let s=t.map((s,a)=>({data:e[a],label:t[a]})).sort((function(t,e){return e.data-t.data})).reduce((t,e,s)=>(s>10?"Others"in t?t.Others+=e.data:t.Others=e.data:t[e.label]=e.data,t),{});o.data.labels=Object.keys(s),o.data.datasets[0].data=Object.values(s),o.data.datasets[0].backgroundColor=l.slice(0,t.length),o.data.datasets[0].borderColor=l.slice(0,t.length),o.update()}(Object.keys(i),Object.values(i)))});return[function(t){const e=o.getElementsAtEvent(t);if(e[0]){const t=e[0]._index,s=Object.keys(i)[t];m(u,a=r.filter(t=>t.source===s)),m(g,n=c.filter(t=>t.source===s))}}]}class rt extends t{constructor(t){super(),e(this,t,at,st,s,{})}}function nt(t,e,s){const a=t.slice();return a[2]=e[s],a}function ct(t){let e,s,l,d,h,u,f,g,p,b,m,k,O,C,A,j,w,P,I,T,V,S,B,N,L,z,H,R,M,F=Object.values(t[0]),_=[];for(let e=0;e<F.length;e+=1)_[e]=it(nt(t,F,e));return{c(){e=a("div"),s=a("table"),l=a("thead"),d=a("tr"),h=a("th"),u=v("Day"),f=y(),g=a("th"),p=v("Country"),b=y(),m=a("th"),k=v("City"),O=y(),C=a("th"),A=v("Page path"),j=y(),w=a("th"),P=v("Devices"),I=y(),T=a("th"),V=v("Sources"),S=y(),B=a("th"),N=v("Sessions"),L=y(),z=a("th"),H=v("Users"),R=y(),M=a("tbody");for(let t=0;t<_.length;t+=1)_[t].c();this.h()},l(t){e=r(t,"DIV",{class:!0});var a=n(e);s=r(a,"TABLE",{class:!0});var i=n(s);l=r(i,"THEAD",{});var o=n(l);d=r(o,"TR",{});var v=n(d);h=r(v,"TH",{});var y=n(h);u=$(y,"Day"),y.forEach(c),f=E(v),g=r(v,"TH",{});var x=n(g);p=$(x,"Country"),x.forEach(c),b=E(v),m=r(v,"TH",{});var D=n(m);k=$(D,"City"),D.forEach(c),O=E(v),C=r(v,"TH",{});var F=n(C);A=$(F,"Page path"),F.forEach(c),j=E(v),w=r(v,"TH",{});var W=n(w);P=$(W,"Devices"),W.forEach(c),I=E(v),T=r(v,"TH",{});var G=n(T);V=$(G,"Sources"),G.forEach(c),S=E(v),B=r(v,"TH",{});var U=n(B);N=$(U,"Sessions"),U.forEach(c),L=E(v),z=r(v,"TH",{});var Y=n(z);H=$(Y,"Users"),Y.forEach(c),v.forEach(c),o.forEach(c),R=E(i),M=r(i,"TBODY",{});var q=n(M);for(let t=0;t<_.length;t+=1)_[t].l(q);q.forEach(c),i.forEach(c),a.forEach(c),this.h()},h(){i(s,"class","table is-bordered is-striped is-narrow is-hoverable is-fullwidth"),i(e,"class","table-container")},m(t,a){o(t,e,a),x(e,s),x(s,l),x(l,d),x(d,h),x(h,u),x(d,f),x(d,g),x(g,p),x(d,b),x(d,m),x(m,k),x(d,O),x(d,C),x(C,A),x(d,j),x(d,w),x(w,P),x(d,I),x(d,T),x(T,V),x(d,S),x(d,B),x(B,N),x(d,L),x(d,z),x(z,H),x(s,R),x(s,M);for(let t=0;t<_.length;t+=1)_[t].m(M,null)},p(t,e){if(1&e){let s;for(F=Object.values(t[0]),s=0;s<F.length;s+=1){const a=nt(t,F,s);_[s]?_[s].p(a,e):(_[s]=it(a),_[s].c(),_[s].m(M,null))}for(;s<_.length;s+=1)_[s].d(1);_.length=F.length}},d(t){t&&c(e),D(_,t)}}}function it(t){let e,s,i,l,d,h,u,f,g,p,b,m,k,O,D,A,j,w,P,I,T,V,S,B,N,L,z,H,R,M=t[2].day.substring(6,8)+"",F=t[2].day.substring(4,6)+"",_=t[2].day.substring(0,4)+"",W=t[2].country+"",G=t[2].city+"",U=t[2].pagePath+"",Y=t[2].device+"",q=t[2].source+"",J=t[2].sessions+"",Z=t[2].users+"";return{c(){e=a("tr"),s=a("td"),i=v(M),l=v("/"),d=v(F),h=v("/"),u=v(_),f=y(),g=a("td"),p=v(W),b=y(),m=a("td"),k=v(G),O=y(),D=a("td"),A=v(U),j=y(),w=a("td"),P=v(Y),I=y(),T=a("td"),V=v(q),S=y(),B=a("td"),N=v(J),L=y(),z=a("td"),H=v(Z),R=y()},l(t){e=r(t,"TR",{});var a=n(e);s=r(a,"TD",{});var o=n(s);i=$(o,M),l=$(o,"/"),d=$(o,F),h=$(o,"/"),u=$(o,_),o.forEach(c),f=E(a),g=r(a,"TD",{});var v=n(g);p=$(v,W),v.forEach(c),b=E(a),m=r(a,"TD",{});var y=n(m);k=$(y,G),y.forEach(c),O=E(a),D=r(a,"TD",{});var x=n(D);A=$(x,U),x.forEach(c),j=E(a),w=r(a,"TD",{});var C=n(w);P=$(C,Y),C.forEach(c),I=E(a),T=r(a,"TD",{});var K=n(T);V=$(K,q),K.forEach(c),S=E(a),B=r(a,"TD",{});var Q=n(B);N=$(Q,J),Q.forEach(c),L=E(a),z=r(a,"TD",{});var X=n(z);H=$(X,Z),X.forEach(c),R=E(a),a.forEach(c)},m(t,a){o(t,e,a),x(e,s),x(s,i),x(s,l),x(s,d),x(s,h),x(s,u),x(e,f),x(e,g),x(g,p),x(e,b),x(e,m),x(m,k),x(e,O),x(e,D),x(D,A),x(e,j),x(e,w),x(w,P),x(e,I),x(e,T),x(T,V),x(e,S),x(e,B),x(B,N),x(e,L),x(e,z),x(z,H),x(e,R)},p(t,e){1&e&&M!==(M=t[2].day.substring(6,8)+"")&&C(i,M),1&e&&F!==(F=t[2].day.substring(4,6)+"")&&C(d,F),1&e&&_!==(_=t[2].day.substring(0,4)+"")&&C(u,_),1&e&&W!==(W=t[2].country+"")&&C(p,W),1&e&&G!==(G=t[2].city+"")&&C(k,G),1&e&&U!==(U=t[2].pagePath+"")&&C(A,U),1&e&&Y!==(Y=t[2].device+"")&&C(P,Y),1&e&&q!==(q=t[2].source+"")&&C(V,q),1&e&&J!==(J=t[2].sessions+"")&&C(N,J),1&e&&Z!==(Z=t[2].users+"")&&C(H,Z)},d(t){t&&c(e)}}}function ot(t){let e,s=t[0]&&ct(t);return{c(){s&&s.c(),e=A()},l(t){s&&s.l(t),e=A()},m(t,a){s&&s.m(t,a),o(t,e,a)},p(t,[a]){t[0]?s?s.p(t,a):(s=ct(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:d,o:d,d(t){s&&s.d(t),t&&c(e)}}}function lt(t,e,s){let a;u.subscribe(t=>{t.length>0&&s(0,a=t.slice(0,20))});return[a]}class dt extends t{constructor(t){super(),e(this,t,lt,ot,s,{})}}function ht(t){let e,s,l,d;return{c(){e=a("p"),s=v("+ "),l=v(t[4]),d=v(" %"),this.h()},l(a){e=r(a,"P",{class:!0});var i=n(e);s=$(i,"+ "),l=$(i,t[4]),d=$(i," %"),i.forEach(c),this.h()},h(){i(e,"class","title is-size-5 has-text-success")},m(t,a){o(t,e,a),x(e,s),x(e,l),x(e,d)},p(t,e){16&e&&C(l,t[4])},d(t){t&&c(e)}}}function ut(t){let e,s,l;return{c(){e=a("p"),s=v(t[4]),l=v(" %"),this.h()},l(a){e=r(a,"P",{class:!0});var i=n(e);s=$(i,t[4]),l=$(i," %"),i.forEach(c),this.h()},h(){i(e,"class","title is-size-5 has-text-danger")},m(t,a){o(t,e,a),x(e,s),x(e,l)},p(t,e){16&e&&C(s,t[4])},d(t){t&&c(e)}}}function ft(t){let e,s,l,d;return{c(){e=a("p"),s=v("+ "),l=v(t[5]),d=v(" %"),this.h()},l(a){e=r(a,"P",{class:!0});var i=n(e);s=$(i,"+ "),l=$(i,t[5]),d=$(i," %"),i.forEach(c),this.h()},h(){i(e,"class","title is-size-5 has-text-success")},m(t,a){o(t,e,a),x(e,s),x(e,l),x(e,d)},p(t,e){32&e&&C(l,t[5])},d(t){t&&c(e)}}}function gt(t){let e,s,l;return{c(){e=a("p"),s=v(t[5]),l=v(" %"),this.h()},l(a){e=r(a,"P",{class:!0});var i=n(e);s=$(i,t[5]),l=$(i," %"),i.forEach(c),this.h()},h(){i(e,"class","title is-size-5 has-text-danger")},m(t,a){o(t,e,a),x(e,s),x(e,l)},p(t,e){32&e&&C(s,t[5])},d(t){t&&c(e)}}}function pt(t){let e,s,l,h,u,f,g,p,b,m,k,O,D,A,j,w,P,I,T,V,S,B,N,L,z,H,R,M,F,_,W,G,U,Y;function q(t,e){return t[4]<0?ut:ht}let J=q(t),Z=J(t);function K(t,e){return t[5]<0?gt:ft}let Q=K(t),X=Q(t);return{c(){e=a("nav"),s=a("div"),l=a("div"),h=a("div"),u=a("div"),f=a("p"),g=v(t[0]),p=y(),b=a("p"),m=v("sessions"),k=y(),Z.c(),O=y(),D=a("br"),A=y(),j=a("p"),w=v(t[2]),P=v(" last week"),I=y(),T=a("div"),V=a("div"),S=a("div"),B=a("div"),N=a("p"),L=v(t[1]),z=y(),H=a("p"),R=v("users"),M=y(),X.c(),F=y(),_=a("br"),W=y(),G=a("p"),U=v(t[3]),Y=v(" last week"),this.h()},l(a){e=r(a,"NAV",{class:!0});var i=n(e);s=r(i,"DIV",{class:!0});var o=n(s);l=r(o,"DIV",{class:!0});var d=n(l);h=r(d,"DIV",{class:!0});var v=n(h);u=r(v,"DIV",{class:!0});var y=n(u);f=r(y,"P",{class:!0});var x=n(f);g=$(x,t[0]),x.forEach(c),p=E(y),b=r(y,"P",{class:!0});var C=n(b);m=$(C,"sessions"),C.forEach(c),k=E(y),Z.l(y),O=E(y),D=r(y,"BR",{}),A=E(y),j=r(y,"P",{});var q=n(j);w=$(q,t[2]),P=$(q," last week"),q.forEach(c),y.forEach(c),v.forEach(c),d.forEach(c),o.forEach(c),I=E(i),T=r(i,"DIV",{class:!0});var J=n(T);V=r(J,"DIV",{class:!0});var K=n(V);S=r(K,"DIV",{class:!0});var Q=n(S);B=r(Q,"DIV",{class:!0});var tt=n(B);N=r(tt,"P",{class:!0});var et=n(N);L=$(et,t[1]),et.forEach(c),z=E(tt),H=r(tt,"P",{class:!0});var st=n(H);R=$(st,"users"),st.forEach(c),M=E(tt),X.l(tt),F=E(tt),_=r(tt,"BR",{}),W=E(tt),G=r(tt,"P",{});var at=n(G);U=$(at,t[3]),Y=$(at," last week"),at.forEach(c),tt.forEach(c),Q.forEach(c),K.forEach(c),J.forEach(c),i.forEach(c),this.h()},h(){i(f,"class","title"),i(b,"class","heading"),i(u,"class","content"),i(h,"class","card-content"),i(l,"class","card"),i(s,"class","level-item has-text-centered"),i(N,"class","title"),i(H,"class","heading"),i(B,"class","content"),i(S,"class","card-content"),i(V,"class","card"),i(T,"class","level-item has-text-centered"),i(e,"class","level is-mobile")},m(t,a){o(t,e,a),x(e,s),x(s,l),x(l,h),x(h,u),x(u,f),x(f,g),x(u,p),x(u,b),x(b,m),x(u,k),Z.m(u,null),x(u,O),x(u,D),x(u,A),x(u,j),x(j,w),x(j,P),x(e,I),x(e,T),x(T,V),x(V,S),x(S,B),x(B,N),x(N,L),x(B,z),x(B,H),x(H,R),x(B,M),X.m(B,null),x(B,F),x(B,_),x(B,W),x(B,G),x(G,U),x(G,Y)},p(t,[e]){1&e&&C(g,t[0]),J===(J=q(t))&&Z?Z.p(t,e):(Z.d(1),Z=J(t),Z&&(Z.c(),Z.m(u,O))),4&e&&C(w,t[2]),2&e&&C(L,t[1]),Q===(Q=K(t))&&X?X.p(t,e):(X.d(1),X=Q(t),X&&(X.c(),X.m(B,F))),8&e&&C(U,t[3])},i:d,o:d,d(t){t&&c(e),Z.d(),X.d()}}}function bt(t,e,s){let a,r,n,c,i,o,l,d;return h(t,u,t=>s(6,a=t)),h(t,g,t=>s(7,r=t)),t.$$.update=()=>{64&t.$$.dirty&&s(0,n=a.reduce((t,e)=>t+e.sessions,0)),64&t.$$.dirty&&s(1,c=a.reduce((t,e)=>t+e.users,0)),128&t.$$.dirty&&s(2,i=r.reduce((t,e)=>t+e.sessions,0)),128&t.$$.dirty&&s(3,o=r.reduce((t,e)=>t+e.users,0)),5&t.$$.dirty&&s(4,l=Math.round(100*((n-i)/n+Number.EPSILON))),10&t.$$.dirty&&s(5,d=Math.round(100*((c-o)/c+Number.EPSILON)))},[n,c,i,o,l,d]}class mt extends t{constructor(t){super(),e(this,t,bt,pt,s,{})}}function vt(t){let e,s,l,h;return{c(){e=a("p"),s=v("Popular content:"),l=y(),h=a("canvas"),this.h()},l(t){e=r(t,"P",{});var a=n(e);s=$(a,"Popular content:"),a.forEach(c),l=E(t),h=r(t,"CANVAS",{id:!0}),n(h).forEach(c),this.h()},h(){i(h,"id","tags-chart")},m(t,a){o(t,e,a),x(e,s),o(t,l,a),o(t,h,a)},p:d,i:d,o:d,d(t){t&&c(e),t&&c(l),t&&c(h)}}}function yt(t){let e,s;b(async()=>{e=await N();const t=document.getElementById("tags-chart").getContext("2d");s=new B(t,{type:"bubble",data:{datasets:[{label:"",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[]}]},options:{legend:{display:!1},tooltips:{mode:"nearest",intersect:!1,callbacks:{title(t,e){let{index:s}=t[0],{datasetIndex:a}=t[0],r=e.datasets[a].data[s].x,n=e.datasets[a].data[s].y;e.datasets[a].data[s].tag;return`Visits: ${n}, Posts: ${r}`},label(t,e){let{index:s}=t,{datasetIndex:a}=t;return""+e.datasets[a].data[s].tag}}},scales:{xAxes:[{id:"posts-x-axis",type:"linear",scaleLabel:{display:!0,labelString:"Number of posts"}}],yAxes:[{id:"visits-y-axis",type:"logarithmic",ticks:{userCallback(t){var e=t/Math.pow(10,Math.floor(B.helpers.log10(t)));return 1===e||2===e||5===e?t.toString():""}},position:"left",scaleLabel:{display:!0,labelString:"Number of visits"}}]}}})});u.subscribe(t=>{if(t.length>0&&e){let a=t.reduce((t,e)=>(e.pagePath in t?t[e.pagePath]+=e.sessions:t[e.pagePath]=e.sessions,t),{}),r=e.reduce((t,e)=>(e.link||e.tags.forEach(s=>{s in t?(t[s].count+=1,t[s].visits+=a[e.url]?a[e.url]:0):t[s]={tag:s,count:1,visits:a[e.url]?a[e.url]:0}}),t),{});!function(t){s.data.datasets[0].data=t.map(t=>({x:t.count,y:t.visits,tag:t.tag,r:Math.log(t.visits/t.count*10+1)})),s.update()}(Object.values(r))}});return[]}class $t extends t{constructor(t){super(),e(this,t,yt,vt,s,{})}}function Et(t){let e,s;return{c(){e=a("progress"),s=v("15%"),this.h()},l(t){e=r(t,"PROGRESS",{class:!0,max:!0});var a=n(e);s=$(a,"15%"),a.forEach(c),this.h()},h(){i(e,"class","progress is-small is-primary"),i(e,"max","100")},m(t,a){o(t,e,a),x(e,s)},d(t){t&&c(e)}}}function xt(t){let e,s,l,d,h,u,f,g,p,b,m,v,$,k,O,C,D,A,S,B,N,L=0===t[0].length&&Et();const z=new mt({}),H=new F({}),R=new G({}),M=new Q({}),_=new q({}),W=new et({}),U=new rt({}),Y=new $t({}),J=new dt({});return{c(){e=a("section"),s=a("div"),L&&L.c(),l=y(),j(z.$$.fragment),d=y(),h=a("div"),u=a("div"),j(H.$$.fragment),f=y(),g=a("div"),j(R.$$.fragment),p=y(),b=a("div"),j(M.$$.fragment),m=y(),v=a("div"),j(_.$$.fragment),$=y(),k=a("div"),j(W.$$.fragment),O=y(),C=a("div"),j(U.$$.fragment),D=y(),A=a("div"),j(Y.$$.fragment),S=y(),B=a("div"),j(J.$$.fragment),this.h()},l(t){e=r(t,"SECTION",{class:!0});var a=n(e);s=r(a,"DIV",{class:!0});var i=n(s);L&&L.l(i),l=E(i),w(z.$$.fragment,i),d=E(i),h=r(i,"DIV",{class:!0});var o=n(h);u=r(o,"DIV",{class:!0});var y=n(u);w(H.$$.fragment,y),y.forEach(c),f=E(o),g=r(o,"DIV",{class:!0});var x=n(g);w(R.$$.fragment,x),x.forEach(c),p=E(o),b=r(o,"DIV",{class:!0});var j=n(b);w(M.$$.fragment,j),j.forEach(c),m=E(o),v=r(o,"DIV",{class:!0});var P=n(v);w(_.$$.fragment,P),P.forEach(c),$=E(o),k=r(o,"DIV",{class:!0});var I=n(k);w(W.$$.fragment,I),I.forEach(c),O=E(o),C=r(o,"DIV",{class:!0});var T=n(C);w(U.$$.fragment,T),T.forEach(c),D=E(o),A=r(o,"DIV",{class:!0});var V=n(A);w(Y.$$.fragment,V),V.forEach(c),S=E(o),B=r(o,"DIV",{class:!0});var N=n(B);w(J.$$.fragment,N),N.forEach(c),o.forEach(c),i.forEach(c),a.forEach(c),this.h()},h(){i(u,"class","column is-4"),i(g,"class","column is-4"),i(b,"class","column is-4"),i(v,"class","column is-4"),i(k,"class","column is-4-desktop is-6-mobile"),i(C,"class","column is-4"),i(A,"class","column is-4"),i(B,"class","column is-12"),i(h,"class","columns is-multiline"),i(s,"class","container is-fullhd"),i(e,"class","section")},m(t,a){o(t,e,a),x(e,s),L&&L.m(s,null),x(s,l),P(z,s,null),x(s,d),x(s,h),x(h,u),P(H,u,null),x(h,f),x(h,g),P(R,g,null),x(h,p),x(h,b),P(M,b,null),x(h,m),x(h,v),P(_,v,null),x(h,$),x(h,k),P(W,k,null),x(h,O),x(h,C),P(U,C,null),x(h,D),x(h,A),P(Y,A,null),x(h,S),x(h,B),P(J,B,null),N=!0},p(t,[e]){0===t[0].length?L||(L=Et(),L.c(),L.m(s,l)):L&&(L.d(1),L=null)},i(t){N||(I(z.$$.fragment,t),I(H.$$.fragment,t),I(R.$$.fragment,t),I(M.$$.fragment,t),I(_.$$.fragment,t),I(W.$$.fragment,t),I(U.$$.fragment,t),I(Y.$$.fragment,t),I(J.$$.fragment,t),N=!0)},o(t){T(z.$$.fragment,t),T(H.$$.fragment,t),T(R.$$.fragment,t),T(M.$$.fragment,t),T(_.$$.fragment,t),T(W.$$.fragment,t),T(U.$$.fragment,t),T(Y.$$.fragment,t),T(J.$$.fragment,t),N=!1},d(t){t&&c(e),L&&L.d(),V(z),V(H),V(R),V(M),V(_),V(W),V(U),V(Y),V(J)}}}function kt(t,e,s){let a;return h(t,f,t=>s(0,a=t)),[a]}class Ot extends t{constructor(t){super(),e(this,t,kt,xt,s,{})}}function Ct(t){let e,s,l,h,u,f,g,p,b;return{c(){e=a("footer"),s=a("div"),l=a("p"),h=v("This dashboard shows the traffic data from "),u=a("a"),f=v("cristianpb.github.io"),g=v(". The code source of this dashboard is published in\n      "),p=a("a"),b=v("this github repository"),this.h()},l(t){e=r(t,"FOOTER",{class:!0});var a=n(e);s=r(a,"DIV",{class:!0});var i=n(s);l=r(i,"P",{});var o=n(l);h=$(o,"This dashboard shows the traffic data from "),u=r(o,"A",{href:!0});var d=n(u);f=$(d,"cristianpb.github.io"),d.forEach(c),g=$(o,". The code source of this dashboard is published in\n      "),p=r(o,"A",{class:!0,href:!0});var m=n(p);b=$(m,"this github repository"),m.forEach(c),o.forEach(c),i.forEach(c),a.forEach(c),this.h()},h(){i(u,"href","https://cristianpb.github.io"),i(p,"class","is-danger"),i(p,"href","https://github.com/cristianpb/analytics-google"),i(s,"class","content has-text-centered"),i(e,"class","footer")},m(t,a){o(t,e,a),x(e,s),x(s,l),x(l,h),x(l,u),x(u,f),x(l,g),x(l,p),x(p,b)},p:d,i:d,o:d,d(t){t&&c(e)}}}class Dt extends t{constructor(t){super(),e(this,t,null,Ct,s,{})}}function At(t){let e,s,l,h;const u=new Ot({}),f=new Dt({});return{c(){e=y(),s=a("div"),j(u.$$.fragment),l=y(),j(f.$$.fragment),this.h()},l(t){S('[data-svelte="svelte-35vdxi"]',document.head).forEach(c),e=E(t),s=r(t,"DIV",{class:!0});var a=n(s);w(u.$$.fragment,a),l=E(a),w(f.$$.fragment,a),a.forEach(c),this.h()},h(){document.title="Analytics - Cristian Perez Brokate",i(s,"class","app")},m(t,a){o(t,e,a),o(t,s,a),P(u,s,null),x(s,l),P(f,s,null),h=!0},p:d,i(t){h||(I(u.$$.fragment,t),I(f.$$.fragment,t),h=!0)},o(t){T(u.$$.fragment,t),T(f.$$.fragment,t),h=!1},d(t){t&&c(e),t&&c(s),V(u),V(f)}}}function jt(t,e,s){let a,r,n,c;return h(t,f,t=>s(0,a=t)),h(t,u,t=>s(1,r=t)),h(t,p,t=>s(2,n=t)),h(t,g,t=>s(3,c=t)),b(async()=>{const t=await L(),e=await z();m(f,a=t),m(u,r=t),m(p,n=e),m(g,c=e)}),[]}export default class extends t{constructor(t){super(),e(this,t,jt,At,s,{})}}
